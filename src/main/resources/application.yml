server:
  port: 9191
  
spring:
  application:
    name: API-GATEWAY
  devtools:
      restart:
         enabled: true
  cloud:
     gateway:
        # discovery locator is the auto-alternative to manually configuring the API-Routes
#        discovery:
#           locator:
#              enabled: true
#              lower-case-service-id: true
          routes:
           - id: USER-SERVICE
             uri: lb://USER-SERVICE
             predicates:
               # Controller level GetMapping Path
               - Path=/api/users/**
             filters:
               # URL segment in PrefixPath must not be included in URL (localhost:9191/users NOT localhost:9191/api/users)
#               - PrefixPath=/api
               - RemoveRequestHeader=Cookie
                 
           - id: ACCOUNT-MANAGEMENT-SERVICE
             uri: lb://ACCOUNT-MANAGEMENT-SERVICE
             predicates:
               # Controller level GetMapping Path
               - Path=/api/accounts/**
             filters:
               # URL segment in PrefixPath must not be included in URL (localhost:9191/users NOT localhost:9191/api/users)
#               - PrefixPath=/api
               - RemoveRequestHeader=Cookie*
#
#  main:
#     web:
#        web-application-type: reactive
    


    
eureka:
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: http://localhost:8761/eureka
  instance:
    hostname: localhost
    prefer-ip-address: true